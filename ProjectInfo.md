## 这里是项目开发文档
### 1.创意来源
 - 其他学校的同学（包括北大、上交、首医等学校）交流时，发现其他学校均有由官方运营的学生论坛，同学们可以在论坛上自由讨论、发帖交流，极大的丰富和方便了同学们的学习和生活。因此，我萌生了自己开发一个学生论坛的想法。
 - 该论坛能够实现简单的登录、注册、发帖、删帖、查看帖子内容等功能，经改进后可以方便同学们的学习和生活。
### 2.实现思路
#### (1)前端
 - 前端采用`HTML、CSS、JavaScript`进行开发，使用`Vue3`前端框架进行页面美化，使用`Element-ui`进行组件化开发。
 - 前端页面包括首页、登录页、注册页、发帖页和分成学习区、娱乐区、体育区等分区查看帖子内容的页面。
 - 页面左侧设有导航栏，配合 `Vue Router` 的路由功能，可以实现页面的切换、当前页面高亮等功能。
 - 同时页面的 `header`部分可以显示当前用户的昵称等信息，也可以通过登录、注册、退出登录按钮实现用户的登录、注册、退出登录功能。
 - 前端页面采用`Axios`与后端进行数据交互，实现了用户登录、注册、发帖、删帖、查看帖子内容等功能。
 - 通过 `ref` 元素响应式渲染，可以实现发帖和删帖页面内容的动态更新。
 - 当用户点击按钮时，会触发 `vue` 页面的 `@click="function"` 功能，于是就可以在 `vue`页面的 `script` 部分定义相应的函数，通过 `axios 的 get, post`等功能访问` http://localhost:5000/*` 得到相应数据
 - 在前端 `./src/scripts/userinfo.js` 中储存用户是否登录和登录信息，同时在登录按钮和退出登录按钮的 `@click` 事件中动态更新用户信息。
 - 有了上述信息，可以实现动态展示当前用户昵称和退出登录按钮、发帖前进行登录验证、登录后禁止重复登录、本人及管理账户可以删除帖子等功能。
 - **由于前端和后端的交互会产生跨域问题，所以需要后端设置 `CORS` 跨域请求**，具体设置方法将在后端部分进行介绍。
#### (2)后端
 - 后端采用Python语言进行开发，使用Flask框架，实现了用户注册、登录、发帖、删帖、查看帖子内容等功能。
 - 后端数据库采用 `MySQL` ，使用 `Mysql-connector-python` 进行连接和操作数据库。
 - 同时后端设有管理员账户，可以对论坛进行管理，实现删除帖子等功能。
 - 后端从 `Flask` 框架引入 `Flask, jsonify, make_response, request` 等组件，同时引入 `mysql.connector` 组件，实现数据库的连接、数据操作等功能。
 - 使用 `db = mysql.connector.connect()` 获取数据库连接，同时使用 `cursor = db.cursor()` 函数获取游标，通过游标的 `cursor.execute()` 和 `db.commit()` 函数执行SQL语句，实现对数据库的增删查改操作。
 - 使用 `app = Flask(__name__)` 函数定义 Flask 应用，使用 `@app.route()` 装饰器定义路由，实现对前端页面的请求响应。
 - 当用户访问相应页面时，通过 `@app.route()` 函数触发相应功能。
 - 为解决浏览器 `cors` 跨域问题，在向浏览器返回的请求中使用如下代码添加响应头，解决跨域问题。
``` response = make_response(jsonify(data))
response.headers['Access-Control-Allow-Origin'] = 'http://localhost:5173'
# http://localhost:5173 为前端项目的地址
response.headers['Access-Control-Allow-Methods'] = 'GET,POST,OPTIONS'
```
- 同时，因为 `axios.post` 命令会先发送一个 `OPTIONS` 请求，所以后端需要设置该请求的响应头，同样添加上述代码即可。

### 3.运行环境
#### (1)客户端
- 由于该项目成品为 Web 项目，所以客户端运行环境仅需浏览器即可。
#### (2)服务端
- 后端服务端运行环境需要安装 Python 3.x 及以上版本，并安装 Flask、mysql-connector-python 等组件。
- 后端服务端运行时，需要在命令行中进入项目目录，运行 `python Flask.py` 命令，即可启动服务端。
- 前端项目运行环境需要安装 Node.js 及以上版本，并安装 npm 包管理工具。
- 前端项目运行时，需要在命令行中进入项目目录，运行 `npm run dev` 命令，即可启动前端项目。
- 后端服务端默认端口为 5000，前端项目默认端口为 5173，所以需要在浏览器中输入 `http://localhost:5173` 访问前端项目。
- 后端服务端的 `MySQL` 数据库用户名为 `debian-sys-maint`，密码为 `TdvZYQtXDr3RBB0s`，数据库名为 `BUAA_BBS`。
### 4.技术细节
#### (1)前端
- 前端页面采用 `Vue3` 前端框架进行开发，使用 `Element-ui` 组件库进行组件化开发，实现了页面的切换、当前页面高亮等功能。
- 前端页面采用 `Axios` 进行数据交互，实现了用户登录、注册、发帖、删帖、查看帖子内容等功能。
- 前端页面采用 `Vue Router` 进行路由功能，实现了页面的切换、当前页面高亮等功能。
#### (2)后端
- 后端采用 Python 语言进行开发，使用 Flask 框架进行开发，实现了用户注册、登录、发帖、删帖、查看帖子内容等功能。
- 后端数据库采用 MySQL，使用 Mysql-connector-python 进行连接和操作数据库。
- 后端设有管理员账户，可以对论坛进行管理，实现删除帖子等功能。
### 5.收获
- ##### (1) 从零开始自学 `http, css, javascript, vue, python, flask, mysql` 等内容，对这些知识有了一定的了解和基本的掌握。
- ##### (2) 为解决 `cors` 的跨域请求问题，一开始是通过安装插件手动禁用浏览器功能解决，后来通过学习了解到正确的解决方法，并在后端设置相应的响应头解决。
- ##### (3) 学习了 `Vue3` 前端框架的使用方法，掌握了组件化开发的思想，同时通过对 `ref` 元素的应用学习到了响应式的基础。
